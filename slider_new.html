<html lang="en">
  <head>
  <meta charset="UTF-8">

  <title>SliderTest</title>

<!-- <link rel="canonical" href="https://codepen.io/simeydotme/pen/mJLPPq"> -->
  

<link rel="stylesheet" href="places copy 2/scss/style.scss">
  
</head>

<body>
    
  <script src="https://cdn.jsdelivr.net/npm/svelte-range-slider-pips@2.2.2/dist/svelte-range-slider-pips.js"></script><!--Svelte Range Slider Pips script-->
  <link rel="stylesheet" href= "places copy 2\scss\components\rangeSlider.scss"> 
  
    <script> src="places copy 2\js\svelte-range-slider-pips.js"</script>

<main id="app">
  <div id="slider">
    <button class="s1btn">Get Values</button>
  </div>
  <div id="slider2">
    <input class="s21" type="number" value="500" min="-500" max="1500" step="10">
    <input class="s22" type="number" value="1000" min="-500" max="1500" step="10">
  </div>
</main>

<script src="https://cdn.jsdelivr.net/npm/svelte-range-slider-pips@2.2.2/dist/svelte-range-slider-pips.js"></script>
<script>
  let s1vals = [-20, -10, 10, 20];
  let s1animals = ["ðŸ¬", "ðŸ¢", "ðŸ·", "ðŸ¦"];
  let slider = new RangeSliderPips({
    target: document.getElementById("slider"),
    props: {
      min: -50,
      max: 50,
      values: s1vals,
      pips: true,
      pipstep: 1,
      all: "label",
      float: true,
      handleFormatter: (v) => {
        return v;
      }
    }
  });

  let slider2 = new RangeSliderPips({
    target: document.getElementById("slider2"),
    props: {
      min: -500,
      max: 1500,
      range: true,
      pushy: true,
      values: [500, 1000],
      step: 10,
      pips: true,
      pipstep: 10,
      all: "label",
      //suffix: " AD", "BC" for values
      
    }
  });

  let $btn = document.querySelector(".s1btn");
let $s21 = document.querySelector(".s21");
let $s22 = document.querySelector(".s22");

// slider 1 bindings

function setHandles(e) {
  let labels = e.detail.values;
  let handles = document.getElementById("slider").querySelectorAll(".rangeHandle");
  let handle = document.getElementById("slider").querySelectorAll(".rangeHandle.active");
  Array.prototype.forEach.call(handles,(el,i)=> {
    el.children[1].innerHTML = labels[i] + s1animals[i];
  });
  s1vals = e.detail.values;
}

setHandles({ detail: { values: s1vals }});

// .$on() is a svelte component function
// https://svelte.dev/docs#$on
slider.$on('change', setHandles);

$btn.addEventListener( "click", function() {
  $btn.innerText = "the values are: " + s1vals;
  setTimeout(() => {
    $btn.innerText = "Get Values";
  }, 1500 );
})

// slider 2 bindings 

// .$on() is a svelte component function
// https://svelte.dev/docs#$on
slider2.$on('change', function(e) {
  $s21.value = e.detail.values[0];
  $s22.value = e.detail.values[1];
});

// .set() is a svelte component function
// https://svelte.dev/docs#$set
$s21.addEventListener("change", (e) => {
  slider2.$set({ values: [ $s21.value, $s22.value ]});
});

$s22.addEventListener("change", (e) => {
  slider2.$set({ values: [ $s21.value, $s22.value ]});
});
</script>



</body>

</style>
</html>